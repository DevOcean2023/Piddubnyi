export function maybeScrollTo(t){if(t.startsWith("#!"))return;t.startsWith("#")&&(t=t.slice(1));let e=document.getElementById(t);e||(e=document.getElementsByName(`[name=${t}]`)[0]||null),e&&(e.closest("theme-tabs-content")&&e.closest("theme-tabs").openTab(e.closest("theme-tabs-content").getIndex()),scrollToElement(e).then())}export function smoothScroll(t,e){let n,o,i=!1;const r=document.querySelector(".page-header"),c=document.querySelector("[data-smooth-scroll-fix]"),l=r?r.getBoundingClientRect().height:0,s=c?c.getBoundingClientRect().height:0,u=t.getBoundingClientRect().top-l-e-s,m=u>1e3?1e3:500,a=u/(m/60);return new Promise((l=>{const s=u=>{void 0===n&&(n=u);const d=u-n,g=r?r.getBoundingClientRect().height:0,h=c?c.getBoundingClientRect().height:0,b=t.getBoundingClientRect().top-g-e-h;if(o!==u){const t=b<0?Math.max(a,b):Math.min(a,b);t===b&&(i=!0),window.scrollBy(0,t)}d<m||i?(o=u,i?l(t):requestAnimationFrame(s)):(window.scrollBy(0,b),l(t))};requestAnimationFrame(s)}))}export function restoreFocus(t){const e=t.getAttribute("tabindex");t.setAttribute("tabindex","0"),t.focus({preventScroll:!0}),e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")}export function scrollToElement(t,e=18){return smoothScroll(t,e).then(restoreFocus)}