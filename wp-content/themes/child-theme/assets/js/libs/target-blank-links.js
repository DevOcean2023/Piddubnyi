import t from"../libs/live-dom";import e from"../libs/tooltip";import n from"../libs/dom-ready";export function targetBlankLinks(i){n((()=>{t(i).init((function(){const t=this,n=this.hostname!==window.location.hostname,i=-1!==this.pathname.indexOf(".")&&"html"!==this.pathname.split(".").pop(),o=t.hasAttribute("target")&&"_blank"===t.getAttribute("target");if(n||i||o){t.hasAttribute("target")||t.setAttribute("target","_blank"),t.hasAttribute("rel")||t.setAttribute("rel","noopener");const n="Opens a new window";if(!t.textContent.includes(n)){const{open:i,close:o}=e(t,n,"target-blank-tooltip");t.innerHTML=`<span class="screen-reader-text">${n} </span>${t.innerHTML}`,t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",o)}}}))}))}