import{setCloseEvents as e,toggle as n}from "./menu-helpers";export default function t(t){function o(){const o="auto-close"===t.dataset.expendMenu,r=[];Array.from(t.querySelectorAll("button[aria-expanded]")).map((e=>{const n=e.nextElementSibling;return n._expendButton=e,r.push(n),e})).forEach((e=>{e.addEventListener("click",(()=>{n(e.nextElementSibling,"expend"),e.nextElementSibling.hidden?e.focus():e.nextElementSibling.querySelector("a").focus()}))})),r.forEach((n=>{e(n,"expend",o)}))}t.addEventListener("keydown",o,{once:!0}),t.addEventListener("mousedown",o,{once:!0})}
