import e from "./live-dom";import t from "./dom-ready";function o(e, t, o, r=!1){setTimeout((()=>{t.classList.toggle(`${o}_in-focus-or-has-value`,r||!!e.value||!!e.getAttribute("placeholder"))}))}export function toggleFocus(r, s=""){t((()=>{e(s+" "+r).init((function(){let e=r;"."!==r[0]&&"#"!==r[0]||(e=e.slice(1));const t=this,s=t.querySelector("input, select, textarea");t.parentNode.addEventListener("reset",(()=>o(s,t,e)));const i=t.querySelector(".select2");s&&(o(s,t,e),s.addEventListener("focus",(()=>o(s,t,e,!0))),s.addEventListener("blur",(()=>o(s,t,e)))),i&&function(e, t, o, r=!1){setTimeout((()=>{t.classList.toggle(`${o}_in-focus-or-has-value`,r||e.querySelector(".select2-selection__rendered").hasAttribute("title"))})),new MutationObserver((function(e){e.forEach((function(e){t.classList.toggle(`${o}_in-focus-or-has-value`,r||e.target.hasAttribute("title"))}))})).observe(e.querySelector(".select2-selection__rendered"),{attributes:!0,childList:!1,characterData:!1})}(i,t,e)}))}))}
