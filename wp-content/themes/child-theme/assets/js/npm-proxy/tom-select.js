/*! For license information please see tom-select.js.LICENSE.txt */
var t={705:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);n&&r[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},738:function(t){t.exports=function(t){return t[1]}},414:function(t,e,i){var n=i(738),o=i.n(n),s=i(705),r=i.n(s)()(o());r.push([t.id,':root{--ts-pr-clear-button:\t0;--ts-pr-caret:\t0;--ts-pr-min:\t.75rem}.ts-wrapper.single .ts-control,.ts-wrapper.single .ts-control input{cursor:pointer}.ts-control{padding-right:max(var(--ts-pr-min),var(--ts-pr-clear-button) + var(--ts-pr-caret)) !important}.plugin-checkbox_options:not(.rtl) .option input{margin-right:.5rem}.plugin-checkbox_options.rtl .option input{margin-left:.5rem}.plugin-dropdown_input.focus.dropdown-active .ts-control{box-shadow:none;border:1px solid #d0d0d0}.plugin-dropdown_input .dropdown-input{border:1px solid #d0d0d0;border-width:0 0 1px;display:block;padding:8px 8px;box-shadow:inset 0 1px 1px rgba(0,0,0,.1);width:100%;background:rgba(0,0,0,0)}.plugin-dropdown_input .items-placeholder{border:0 none !important;box-shadow:none !important;width:100%}.plugin-dropdown_input.has-items .items-placeholder,.plugin-dropdown_input.dropdown-active .items-placeholder{display:none !important}.ts-wrapper{position:relative}.ts-dropdown,.ts-control,.ts-control input{color:#303030;font-family:inherit;font-size:13px;line-height:18px;font-smoothing:inherit}.ts-control,.ts-wrapper.single.input-active .ts-control{background:#fff;cursor:text}.ts-control{border:1px solid #d0d0d0;padding:8px 8px;width:100%;overflow:hidden;position:relative;z-index:1;box-sizing:border-box;box-shadow:inset 0 1px 1px rgba(0,0,0,.1);border-radius:3px;display:flex;flex-wrap:wrap}.ts-wrapper.multi.has-items .ts-control{padding:calc(8px - 2px - 1px) 8px calc(8px - 2px - 3px - 1px)}.full .ts-control{background-color:#fff}.disabled .ts-control,.disabled .ts-control *{cursor:default !important}.focus .ts-control{box-shadow:inset 0 1px 2px rgba(0,0,0,.15)}.ts-control>*{vertical-align:baseline;display:inline-block}.ts-wrapper.multi .ts-control>div{cursor:pointer;margin:0 3px 3px 0;padding:2px 6px;background:#1da7ee;color:#fff;border:1px solid #0073bb}.ts-wrapper.multi .ts-control>div.active{background:#92c836;color:#fff;border:1px solid #00578d}.ts-wrapper.multi.disabled .ts-control>div,.ts-wrapper.multi.disabled .ts-control>div.active{color:#fff;background:#d2d2d2;border:1px solid #aaa}.ts-control>input{flex:1 1 auto;min-width:7rem;display:inline-block !important;padding:0 !important;min-height:0 !important;max-height:none !important;max-width:100% !important;margin:0 !important;text-indent:0 !important;border:0 none !important;background:none !important;line-height:inherit !important;user-select:auto !important;box-shadow:none !important}.ts-control>input::-ms-clear{display:none}.ts-control>input:focus{outline:none !important}.has-items .ts-control>input{margin:0px 4px !important}.ts-control.rtl{text-align:right}.ts-control.rtl.single .ts-control:after{left:15px;right:auto}.ts-control.rtl .ts-control>input{margin:0px 4px 0px -2px !important}.disabled .ts-control{opacity:.5;background-color:#fafafa}.input-hidden .ts-control>input{opacity:0;position:absolute;left:-10000px}.ts-dropdown{position:absolute;top:100%;left:0;width:100%;z-index:10;border:1px solid #d0d0d0;background:#fff;margin:.25rem 0 0;border-top:0 none;box-sizing:border-box;box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:0 0 3px 3px}.ts-dropdown [data-selectable]{cursor:pointer;overflow:hidden}.ts-dropdown [data-selectable] .highlight{background:rgba(125,168,208,.2);border-radius:1px}.ts-dropdown .option,.ts-dropdown .optgroup-header,.ts-dropdown .no-results,.ts-dropdown .create{padding:5px 8px}.ts-dropdown .option,.ts-dropdown [data-disabled],.ts-dropdown [data-disabled] [data-selectable].option{cursor:inherit;opacity:.5}.ts-dropdown [data-selectable].option{opacity:1;cursor:pointer}.ts-dropdown .optgroup:first-child .optgroup-header{border-top:0 none}.ts-dropdown .optgroup-header{color:#303030;background:#fff;cursor:default}.ts-dropdown .active{background-color:#f5fafd;color:#495c68}.ts-dropdown .active.create{color:#495c68}.ts-dropdown .create{color:rgba(48,48,48,.5)}.ts-dropdown .spinner{display:inline-block;width:30px;height:30px;margin:5px 8px}.ts-dropdown .spinner::after{content:" ";display:block;width:24px;height:24px;margin:3px;border-radius:50%;border:5px solid #d0d0d0;border-color:#d0d0d0 rgba(0,0,0,0) #d0d0d0 rgba(0,0,0,0);animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.ts-dropdown-content{overflow:hidden auto;max-height:200px;scroll-behavior:smooth}.ts-hidden-accessible{border:0 !important;clip:rect(0 0 0 0) !important;clip-path:inset(50%) !important;overflow:hidden !important;padding:0 !important;position:absolute !important;width:1px !important;white-space:nowrap !important}.ts-wrapper.single .ts-control{--ts-pr-caret: 2rem}.ts-wrapper.single .ts-control:after{content:" ";display:block;position:absolute;top:50%;right:15px;margin-top:-3px;width:0;height:0;border-style:solid;border-width:5px 5px 0 5px;border-color:gray rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.ts-wrapper.single.dropdown-active .ts-control::after{margin-top:-4px;border-width:0 5px 5px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) gray rgba(0,0,0,0)}.ts-wrapper.single.input-active .ts-control,.ts-wrapper.single.input-active .ts-control input{cursor:text}.ts-wrapper{display:flex;min-height:36px}.ts-wrapper.multi.has-items .ts-control{padding-left:5px;--ts-pr-min:$padding-x}.ts-wrapper.multi .ts-control [data-value]{text-shadow:0 1px 0 rgba(0,51,83,.3);border-radius:3px;background-color:#1b9dec;background-image:linear-gradient(to bottom, #1da7ee, #178ee9);background-repeat:repeat-x;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 1px rgba(255,255,255,.03)}.ts-wrapper.multi .ts-control [data-value].active{background-color:#0085d4;background-image:linear-gradient(to bottom, #008fd8, #0075cf);background-repeat:repeat-x}.ts-wrapper.multi.disabled .ts-control [data-value]{color:#999;text-shadow:none;background:none;box-shadow:none}.ts-wrapper.multi.disabled .ts-control [data-value],.ts-wrapper.multi.disabled .ts-control [data-value] .remove{border-color:#e6e6e6}.ts-wrapper.multi.disabled .ts-control [data-value] .remove{background:none}.ts-wrapper.single .ts-control{box-shadow:0 1px 0 rgba(0,0,0,.05),inset 0 1px 0 rgba(255,255,255,.8);background-color:#f9f9f9;background-image:linear-gradient(to bottom, #fefefe, #f2f2f2);background-repeat:repeat-x}.ts-wrapper.single .ts-control,.ts-dropdown.single{border-color:#b8b8b8}.dropdown-active .ts-control{border-radius:3px 3px 0 0}.ts-dropdown .optgroup-header{padding-top:7px;font-weight:bold;font-size:.85em}.ts-dropdown .optgroup{border-top:1px solid #f0f0f0}.ts-dropdown .optgroup:first-child{border-top:0 none}',""]),e.Z=r},379:function(t){var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},r=[],a=0;a<t.length;a++){var l=t[a],d=n.base?l[0]+n.base:l[0],c=s[d]||0,p="".concat(d," ").concat(c);s[d]=c+1;var u=i(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var g=o(h,n);n.byIndex=a,e.splice(a,0,{identifier:p,updater:g,references:1})}r.push(p)}return r}function o(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,o){var s=n(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var a=i(s[r]);e[a].references--}for(var l=n(t,o),d=0;d<s.length;d++){var c=i(s[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=l}}},569:function(t){var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,i){t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,o&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={id:n,exports:{}};return t[n](s,s.exports,i),s.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.nc=void 0;var n={};!function(){function t(t,e){t.split(/\s+/).forEach((t=>{e(t)}))}i.d(n,{Z:function(){return kt}});class e{constructor(){this._events=void 0,this._events={}}on(e,i){t(e,(t=>{const e=this._events[t]||[];e.push(i),this._events[t]=e}))}off(e,i){var n=arguments.length;0!==n?t(e,(t=>{if(1===n)return void delete this._events[t];const e=this._events[t];void 0!==e&&(e.splice(e.indexOf(i),1),this._events[t]=e)})):this._events={}}trigger(e,...i){var n=this;t(e,(t=>{const e=n._events[t];void 0!==e&&e.forEach((t=>{t.apply(n,i)}))}))}}const o=t=>(t=t.filter(Boolean)).length<2?t[0]||"":1==d(t)?"["+t.join("")+"]":"(?:"+t.join("|")+")",s=t=>{if(!a(t))return t.join("");let e="",i=0;const n=()=>{i>1&&(e+="{"+i+"}")};return t.forEach(((o,s)=>{o!==t[s-1]?(n(),e+=o,i=1):i++})),n(),e},r=t=>{let e=p(t);return o(e)},a=t=>new Set(t).size!==t.length,l=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),d=t=>t.reduce(((t,e)=>Math.max(t,c(e))),0),c=t=>p(t).length,p=t=>Array.from(t),u=t=>{if(1===t.length)return[[t]];let e=[];const i=t.substring(1);return u(i).forEach((function(i){let n=i.slice(0);n[0]=t.charAt(0)+n[0],e.push(n),n=i.slice(0),n.unshift(t.charAt(0)),e.push(n)})),e},h=[[0,65535]];let g,f;const m={},v={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in v){let e=v[t]||"";for(let i=0;i<e.length;i++){let n=e.substring(i,i+1);m[n]=t}}const b=new RegExp(Object.keys(m).join("|")+"|[̀-ͯ·ʾʼ]","gu"),y=(t,e="NFKD")=>t.normalize(e),w=t=>p(t).reduce(((t,e)=>t+x(e)),""),x=t=>(t=y(t).toLowerCase().replace(b,(t=>m[t]||"")),y(t,"NFC")),O=t=>{const e=(t=>{const e={},i=(t,i)=>{const n=e[t]||new Set,o=new RegExp("^"+r(n)+"$","iu");i.match(o)||(n.add(l(i)),e[t]=n)};for(let e of function*(t){for(const[e,i]of t)for(let t=e;t<=i;t++){let e=String.fromCharCode(t),i=w(e);i!=e.toLowerCase()&&(i.length>3||0!=i.length&&(yield{folded:i,composed:e,code_point:t}))}}(t))i(e.folded,e.folded),i(e.folded,e.composed);return e})(t),i={};let n=[];for(let t in e){let o=e[t];o&&(i[t]=r(o)),t.length>1&&n.push(l(t))}n.sort(((t,e)=>e.length-t.length));const s=o(n);return f=new RegExp("^"+s,"u"),i},I=(t,e=1)=>(e=Math.max(e,t.length-1),o(u(t).map((t=>((t,e=1)=>{let i=0;return t=t.map((t=>(g[t]&&(i+=t.length),g[t]||t))),i>=e?s(t):""})(t,e))))),_=(t,e=!0)=>{let i=t.length>1?1:0;return o(t.map((t=>{let n=[];const o=e?t.length():t.length()-1;for(let e=0;e<o;e++)n.push(I(t.substrs[e]||"",i));return s(n)})))},S=(t,e)=>{for(const i of e){if(i.start!=t.start||i.end!=t.end)continue;if(i.substrs.join("")!==t.substrs.join(""))continue;let e=t.parts;const n=t=>{for(const i of e){if(i.start===t.start&&i.substr===t.substr)return!1;if(1!=t.length&&1!=i.length){if(t.start<i.start&&t.end>i.start)return!0;if(i.start<t.start&&i.end>t.start)return!0}}return!1};if(!(i.parts.filter(n).length>0))return!0}return!1};class C{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let i=new C,n=JSON.parse(JSON.stringify(this.parts)),o=n.pop();for(const t of n)i.add(t);let s=e.substr.substring(0,t-o.start),r=s.length;return i.add({start:o.start,end:o.start+r,length:r,substr:s}),i}}const k=(t,e)=>{if(t)return t[e]},A=(t,e)=>{if(t){for(var i,n=e.split(".");(i=n.shift())&&(t=t[i]););return t}},F=(t,e,i)=>{var n,o;return t?(t+="",null==e.regex||-1===(o=t.search(e.regex))?0:(n=e.string.length/t.length,0===o&&(n+=.5),n*i)):0},L=(t,e)=>{var i=t[e];if("function"==typeof i)return i;i&&!Array.isArray(i)&&(t[e]=[i])},E=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},T=(t,e)=>"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=w(t+"").toLowerCase())>(e=w(e+"").toLowerCase())?1:e>t?-1:0;class P{constructor(t,e){this.items=void 0,this.settings=void 0,this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,i){if(!t||!t.length)return[];const n=[],o=t.split(/\s+/);var s;return i&&(s=new RegExp("^("+Object.keys(i).map(l).join("|")+"):(.*)$")),o.forEach((t=>{let i,o=null,r=null;s&&(i=t.match(s))&&(o=i[1],t=i[2]),t.length>0&&(r=this.settings.diacritics?(t=>{void 0===g&&(g=O(h)),t=w(t);let e="",i=[new C];for(let n=0;n<t.length;n++){let o=t.substring(n).match(f);const s=t.substring(n,n+1),r=o?o[0]:null;let a=[],l=new Set;for(const t of i){const e=t.last();if(!e||1==e.length||e.end<=n)if(r){const e=r.length;t.add({start:n,end:n+e,length:e,substr:r}),l.add("1")}else t.add({start:n,end:n+1,length:1,substr:s}),l.add("2");else if(r){let i=t.clone(n,e);const o=r.length;i.add({start:n,end:n+o,length:o,substr:r}),a.push(i)}else l.add("3")}if(a.length>0){a=a.sort(((t,e)=>t.length()-e.length()));for(let t of a)S(t,i)||i.push(t)}else if(n>0&&1==l.size&&!l.has("3")){e+=_(i,!1);let t=new C;const n=i[0];n&&t.add(n.last()),i=[t]}}return e+=_(i,!0),e})(t)||null:l(t),r&&e&&(r="\\b"+r)),n.push({string:t,regex:r?new RegExp(r,"iu"):null,field:o})})),n}getScoreFunction(t,e){var i=this.prepareSearch(t,e);return this._getScoreFunction(i)}_getScoreFunction(t){const e=t.tokens,i=e.length;if(!i)return function(){return 0};const n=t.options.fields,o=t.weights,s=n.length,r=t.getAttrFn;if(!s)return function(){return 1};const a=1===s?function(t,e){const i=n[0].field;return F(r(e,i),t,o[i]||1)}:function(t,e){var i=0;if(t.field){const n=r(e,t.field);!t.regex&&n?i+=1/s:i+=F(n,t,1)}else E(o,((n,o)=>{i+=F(r(e,o),t,n)}));return i/s};return 1===i?function(t){return a(e[0],t)}:"and"===t.options.conjunction?function(t){var n,o=0;for(let i of e){if((n=a(i,t))<=0)return 0;o+=n}return o/i}:function(t){var n=0;return E(e,(e=>{n+=a(e,t)})),n/i}}getSortFunction(t,e){var i=this.prepareSearch(t,e);return this._getSortFunction(i)}_getSortFunction(t){var e,i=[];const n=this,o=t.options,s=!t.query&&o.sort_empty?o.sort_empty:o.sort;if("function"==typeof s)return s.bind(this);const r=function(e,i){return"$score"===e?i.score:t.getAttrFn(n.items[i.id],e)};if(s)for(let e of s)(t.query||"$score"!==e.field)&&i.push(e);if(t.query){e=!0;for(let t of i)if("$score"===t.field){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter((t=>"$score"!==t.field));return i.length?function(t,e){var n,o;for(let s of i)if(o=s.field,n=("desc"===s.direction?-1:1)*T(r(o,t),r(o,e)))return n;return 0}:null}prepareSearch(t,e){const i={};var n=Object.assign({},e);if(L(n,"sort"),L(n,"sort_empty"),n.fields){L(n,"fields");const t=[];n.fields.forEach((e=>{"string"==typeof e&&(e={field:e,weight:1}),t.push(e),i[e.field]="weight"in e?e.weight:1})),n.fields=t}return{options:n,query:t.toLowerCase().trim(),tokens:this.tokenize(t,n.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:n.nesting?A:k}}search(t,e){var i,n,o=this;n=this.prepareSearch(t,e),e=n.options,t=n.query;const s=e.score||o._getScoreFunction(n);t.length?E(o.items,((t,o)=>{i=s(t),(!1===e.filter||i>0)&&n.items.push({score:i,id:o})})):E(o.items,((t,e)=>{n.items.push({score:1,id:e})}));const r=o._getSortFunction(n);return r&&n.items.sort(r),n.total=n.items.length,"number"==typeof e.limit&&(n.items=n.items.slice(0,e.limit)),n}}const j=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},N=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if($(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},$=t=>"string"==typeof t&&t.indexOf("<")>-1,q=(t,e)=>{var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),t.dispatchEvent(i)},V=(t,e)=>{Object.assign(t.style,e)},D=(t,...e)=>{var i=H(e);(t=M(t)).map((t=>{i.map((e=>{t.classList.add(e)}))}))},R=(t,...e)=>{var i=H(e);(t=M(t)).map((t=>{i.map((e=>{t.classList.remove(e)}))}))},H=t=>{var e=[];return j(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)},M=t=>(Array.isArray(t)||(t=[t]),t),z=(t,e,i)=>{if(!i||i.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},B=(t,e=0)=>e>0?t[t.length-1]:t[0],K=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var i=0;t=t.previousElementSibling;)t.matches(e)&&i++;return i},Q=(t,e)=>{j(e,((e,i)=>{null==e?t.removeAttribute(i):t.setAttribute(i,""+e)}))},G=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},Z="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var J={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};const U=t=>null==t?null:W(t),W=t=>"boolean"==typeof t?t?"1":"0":t+"",X=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Y=(t,e)=>{var i;return function(n,o){var s=this;i&&(s.loading=Math.max(s.loading-1,0),clearTimeout(i)),i=setTimeout((function(){i=null,s.loadedSearches[n]=!0,t.call(s,n,o)}),e)}},tt=(t,e,i)=>{var n,o=t.trigger,s={};for(n of(t.trigger=function(){var i=arguments[0];if(-1===e.indexOf(i))return o.apply(t,arguments);s[i]=arguments},i.apply(t,[]),t.trigger=o,e))n in s&&o.apply(t,s[n])},et=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},it=(t,e,i,n)=>{t.addEventListener(e,i,n)},nt=(t,e)=>!!e&&!!e[t]&&1==(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0),ot=(t,e)=>t.getAttribute("id")||(t.setAttribute("id",e),e),st=t=>t.replace(/[\\"']/g,"\\$&"),rt=(t,e)=>{e&&t.append(e)};function at(t,e){var i=Object.assign({},J,e),n=i.dataAttr,o=i.labelField,s=i.valueField,r=i.disabledField,a=i.optgroupField,l=i.optgroupLabelField,d=i.optgroupValueField,c=t.tagName.toLowerCase(),p=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!p&&!i.allowEmptyOption){let e=t.querySelector('option[value=""]');e&&(p=e.textContent)}var u={placeholder:p,options:[],optgroups:[],items:[],maxItems:null};return"select"===c?(()=>{var e,c=u.options,p={},h=1;let g=0;var f=t=>{var e=Object.assign({},t.dataset),i=n&&e[n];return"string"==typeof i&&i.length&&(e=Object.assign(e,JSON.parse(i))),e},m=(t,e)=>{var n=U(t.value);if(null!=n&&(n||i.allowEmptyOption)){if(p.hasOwnProperty(n)){if(e){var l=p[n][a];l?Array.isArray(l)?l.push(e):p[n][a]=[l,e]:p[n][a]=e}}else{var d=f(t);d[o]=d[o]||t.textContent,d[s]=d[s]||n,d[r]=d[r]||t.disabled,d[a]=d[a]||e,d.$option=t,d.$order=d.$order||++g,p[n]=d,c.push(d)}t.selected&&u.items.push(n)}};u.maxItems=t.hasAttribute("multiple")?null:1,j(t.children,(t=>{var i,n,o;"optgroup"===(e=t.tagName.toLowerCase())?((o=f(i=t))[l]=o[l]||i.getAttribute("label")||"",o[d]=o[d]||h++,o[r]=o[r]||i.disabled,o.$order=o.$order||++g,u.optgroups.push(o),n=o[d],j(i.children,(t=>{m(t,n)}))):"option"===e&&m(t)}))})():(()=>{const e=t.getAttribute(n);if(e)u.options=JSON.parse(e),j(u.options,(t=>{u.items.push(t[s])}));else{var r=t.value.trim()||"";if(!i.allowEmptyOption&&!r.length)return;const e=r.split(i.delimiter);j(e,(t=>{const e={};e[o]=t,e[s]=t,u.options.push(e)})),u.items=e}})(),Object.assign({},J,u,e)}var lt=0;class dt extends(function(t){return t.plugins={},class extends t{constructor(...t){super(...t),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,i){t.plugins[e]={name:e,fn:i}}initializePlugins(t){var e,i;const n=this,o=[];if(Array.isArray(t))t.forEach((t=>{"string"==typeof t?o.push(t):(n.plugins.settings[t.name]=t.options,o.push(t.name))}));else if(t)for(e in t)t.hasOwnProperty(e)&&(n.plugins.settings[e]=t[e],o.push(e));for(;i=o.shift();)n.require(i)}loadPlugin(e){var i=this,n=i.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(i,[i.plugins.settings[e]||{}]),n.names.push(e)}require(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]}}}(e)){constructor(t,e){var i;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,lt++;var n=N(t);if(n.tomselect)throw new Error("Tom Select already initialized on this element");n.tomselect=this,i=(window.getComputedStyle&&window.getComputedStyle(n,null)).getPropertyValue("direction");const o=at(n,e);this.settings=o,this.input=n,this.tabIndex=n.tabIndex||0,this.is_select_tag="select"===n.tagName.toLowerCase(),this.rtl=/rtl/i.test(i),this.inputId=ot(n,"tomselect-"+lt),this.isRequired=n.required,this.sifter=new P(this.options,{diacritics:o.diacritics}),o.mode=o.mode||(1===o.maxItems?"single":"multi"),"boolean"!=typeof o.hideSelected&&(o.hideSelected="multi"===o.mode),"boolean"!=typeof o.hidePlaceholder&&(o.hidePlaceholder="multi"!==o.mode);var s=o.createFilter;"function"!=typeof s&&("string"==typeof s&&(s=new RegExp(s)),s instanceof RegExp?o.createFilter=t=>s.test(t):o.createFilter=t=>this.settings.duplicates||!this.options[t]),this.initializePlugins(o.plugins),this.setupCallbacks(),this.setupTemplates();const r=N("<div>"),a=N("<div>"),l=this._render("dropdown"),d=N('<div role="listbox" tabindex="-1">'),c=this.input.getAttribute("class")||"",p=o.mode;var u;D(r,o.wrapperClass,c,p),D(a,o.controlClass),rt(r,a),D(l,o.dropdownClass,p),o.copyClassesToDropdown&&D(l,c),D(d,o.dropdownContentClass),rt(l,d),N(o.dropdownParent||r).appendChild(l),$(o.controlInput)?(u=N(o.controlInput),E(["autocorrect","autocapitalize","autocomplete","spellcheck"],(t=>{n.getAttribute(t)&&Q(u,{[t]:n.getAttribute(t)})})),u.tabIndex=-1,a.appendChild(u),this.focus_node=u):o.controlInput?(u=N(o.controlInput),this.focus_node=u):(u=N("<input/>"),this.focus_node=a),this.wrapper=r,this.dropdown=l,this.dropdown_content=d,this.control=a,this.control_input=u,this.setup()}setup(){const t=this,e=t.settings,i=t.control_input,n=t.dropdown,o=t.dropdown_content,s=t.wrapper,r=t.control,a=t.input,d=t.focus_node,c={passive:!0},p=t.inputId+"-ts-dropdown";Q(o,{id:p}),Q(d,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":p});const u=ot(d,t.inputId+"-ts-control"),h="label[for='"+(t=>t.replace(/['"\\]/g,"\\$&"))(t.inputId)+"']",g=document.querySelector(h),f=t.focus.bind(t);if(g){it(g,"click",f),Q(g,{for:u});const e=ot(g,t.inputId+"-ts-label");Q(d,{"aria-labelledby":e}),Q(o,{"aria-labelledby":e})}if(s.style.width=a.style.width,t.plugins.names.length){const e="plugin-"+t.plugins.names.join(" plugin-");D([s,n],e)}(null===e.maxItems||e.maxItems>1)&&t.is_select_tag&&Q(a,{multiple:"multiple"}),e.placeholder&&Q(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+l(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Y(e.load,e.loadThrottle)),it(n,"mousemove",(()=>{t.ignoreHover=!1})),it(n,"mouseenter",(e=>{var i=z(e.target,"[data-selectable]",n);i&&t.onOptionHover(e,i)}),{capture:!0}),it(n,"click",(e=>{const i=z(e.target,"[data-selectable]");i&&(t.onOptionSelect(e,i),et(e,!0))})),it(r,"click",(e=>{var n=z(e.target,"[data-ts-item]",r);n&&t.onItemSelect(e,n)?et(e,!0):""==i.value&&(t.onClick(),et(e,!0))})),it(d,"keydown",(e=>t.onKeyDown(e))),it(i,"keypress",(e=>t.onKeyPress(e))),it(i,"input",(e=>t.onInput(e))),it(d,"blur",(e=>t.onBlur(e))),it(d,"focus",(e=>t.onFocus(e))),it(i,"paste",(e=>t.onPaste(e)));const m=e=>{const o=e.composedPath()[0];if(!s.contains(o)&&!n.contains(o))return t.isFocused&&t.blur(),void t.inputState();o==i&&t.isOpen?e.stopPropagation():et(e,!0)},v=()=>{t.isOpen&&t.positionDropdown()};it(document,"mousedown",m),it(window,"scroll",v,c),it(window,"resize",v,c),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),g&&g.removeEventListener("click",f)},this.revertSettings={innerHTML:a.innerHTML,tabIndex:a.tabIndex},a.tabIndex=-1,a.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,it(a,"invalid",(()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())})),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,a.disabled?t.disable():a.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),D(a,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),!0===e.preload&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),E(e,(t=>{this.registerOptionGroup(t)}))}setupTemplates(){var t=this,e=t.settings.labelField,i=t.settings.optgroupLabelField,n={optgroup:t=>{let e=document.createElement("div");return e.className="optgroup",e.appendChild(t.options),e},optgroup_header:(t,e)=>'<div class="optgroup-header">'+e(t[i])+"</div>",option:(t,i)=>"<div>"+i(t[e])+"</div>",item:(t,i)=>"<div>"+i(t[e])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},n,t.settings.render)}setupCallbacks(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)(e=this.settings[i[t]])&&this.on(t,e)}sync(t=!0){const e=this,i=t?at(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0)return t.clearActiveItems(),void t.focus();t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){q(this.input,"input"),q(this.input,"change")}onPaste(t){var e=this;e.isInputHidden||e.isLocked?et(t):e.settings.splitOn&&setTimeout((()=>{var t=e.inputValue();if(t.match(e.settings.splitOn)){var i=t.trim().split(e.settings.splitOn);E(i,(t=>{U(t)&&(this.options[t]?e.addItem(t):e.createItem(t))}))}}),0)}onKeyPress(t){var e=this;if(!e.isLocked){var i=String.fromCharCode(t.keyCode||t.which);return e.settings.create&&"multi"===e.settings.mode&&i===e.settings.delimiter?(e.createItem(),void et(t)):void 0}et(t)}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked)9!==t.keyCode&&et(t);else{switch(t.keyCode){case 65:if(nt(Z,t)&&""==e.control_input.value)return et(t),void e.selectAll();break;case 27:return e.isOpen&&(et(t,!0),e.close()),void e.clearActiveItems();case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let t=e.getAdjacent(e.activeOption,1);t&&e.setActiveOption(t)}return void et(t);case 38:if(e.activeOption){let t=e.getAdjacent(e.activeOption,-1);t&&e.setActiveOption(t)}return void et(t);case 13:return void(e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),et(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&et(t));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return void(e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),et(t)),e.settings.create&&e.createItem()&&et(t)));case 8:case 46:return void e.deleteSelection(t)}e.isInputHidden&&!nt(Z,t)&&et(t)}}onInput(t){if(this.isLocked)return;const e=this.inputValue();var i,n;this.lastValue!==e&&(this.lastValue=e,""!=e?(this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=(i=()=>{this.refreshTimeout=null,this._onInput()},(n=this.settings.refreshThrottle)>0?setTimeout(i,n):(i.call(null),null))):this._onInput())}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly)return e.blur(),void et(t);e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(!1!==document.hasFocus()){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(t,e){var i,n=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?n.createItem(null,(()=>{n.settings.closeAfterSelect&&n.close()})):void 0!==(i=e.dataset.value)&&(n.lastQuery=null,n.addItem(i),n.settings.closeAfterSelect&&n.close(),!n.settings.hideSelected&&t.type&&/click/.test(t.type)&&n.setActiveOption(e)))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var i=this;return!i.isLocked&&"multi"===i.settings.mode&&(et(t),i.setActiveItem(e,t),!0)}canLoad(t){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(t)}load(t){const e=this;if(!e.canLoad(t))return;D(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,t,i)}loadCallback(t,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(t,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||R(i.wrapper,i.settings.loadingClass),i.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,q(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){tt(this,e?[]:["change"],(()=>{this.clear(e),this.addItems(t,e)}))}setMaxItems(t){0===t&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var i,n,o,s,r,a,l=this;if("single"!==l.settings.mode){if(!t)return l.clearActiveItems(),void(l.isFocused&&l.inputState());if("click"===(i=e&&e.type.toLowerCase())&&nt("shiftKey",e)&&l.activeItems.length){for(a=l.getLastActive(),(o=Array.prototype.indexOf.call(l.control.children,a))>(s=Array.prototype.indexOf.call(l.control.children,t))&&(r=o,o=s,s=r),n=o;n<=s;n++)t=l.control.children[n],-1===l.activeItems.indexOf(t)&&l.setActiveItemClass(t);et(e)}else"click"===i&&nt(Z,e)||"keydown"===i&&nt("shiftKey",e)?t.classList.contains("active")?l.removeActiveItem(t):l.setActiveItemClass(t):(l.clearActiveItems(),l.setActiveItemClass(t));l.inputState(),l.isFocused||l.focus()}}setActiveItemClass(t){const e=this,i=e.control.querySelector(".last-active");i&&R(i,"last-active"),D(t,"active last-active"),e.trigger("item_select",t),-1==e.activeItems.indexOf(t)&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),R(t,"active")}clearActiveItems(){R(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,Q(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),Q(t,{"aria-selected":"true"}),D(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const i=this.dropdown_content,n=i.clientHeight,o=i.scrollTop||0,s=t.offsetHeight,r=t.getBoundingClientRect().top-i.getBoundingClientRect().top+o;r+s>n+o?this.scroll(r-n+s,e):r<o&&this.scroll(r,e)}scroll(t,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=t,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(R(this.activeOption,"active"),Q(this.activeOption,{"aria-selected":null})),this.activeOption=null,Q(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if("single"===t.settings.mode)return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,E(e,(e=>{t.setActiveItemClass(e)})))}inputState(){var t=this;t.control.contains(t.control_input)&&(Q(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&Q(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout((()=>{t.ignoreFocus=!1,t.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return"string"==typeof t.sortField&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,i,n=this,o=this.getSearchOptions();if(n.settings.score&&"function"!=typeof(i=n.settings.score.call(n,t)))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==n.lastQuery?(n.lastQuery=t,e=n.sifter.search(t,Object.assign(o,{score:i})),n.currentResults=e):e=Object.assign({},n.currentResults),n.settings.hideSelected&&(e.items=e.items.filter((t=>{let e=U(t.id);return!(e&&-1!==n.items.indexOf(e))}))),e}refreshOptions(t=!0){var e,i,n,o,s,r,a,l,d,c;const p={},u=[];var h=this,g=h.inputValue();const f=g===h.lastQuery||""==g&&null==h.lastQuery;var m=h.search(g),v=null,b=h.settings.shouldOpen||!1,y=h.dropdown_content;f&&(v=h.activeOption)&&(d=v.closest("[data-group]")),o=m.items.length,"number"==typeof h.settings.maxOptions&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(b=!0);const w=(t,e)=>{let i=p[t];if(void 0!==i){let t=u[i];if(void 0!==t)return[i,t.fragment]}let n=document.createDocumentFragment();return i=u.length,u.push({fragment:n,order:e,optgroup:t}),[i,n]};for(e=0;e<o;e++){let t=m.items[e];if(!t)continue;let o=t.id,a=h.options[o];if(void 0===a)continue;let l=W(o),c=h.getOption(l,!0);for(h.settings.hideSelected||c.classList.toggle("selected",h.items.includes(l)),s=a[h.settings.optgroupField]||"",i=0,n=(r=Array.isArray(s)?s:[s])&&r.length;i<n;i++){s=r[i];let t=a.$order,e=h.optgroups[s];void 0===e?s="":t=e.$order;const[n,l]=w(s,t);i>0&&(c=c.cloneNode(!0),Q(c,{id:a.$id+"-clone-"+i,"aria-selected":null}),c.classList.add("ts-cloned"),R(c,"active"),h.activeOption&&h.activeOption.dataset.value==o&&d&&d.dataset.group===s.toString()&&(v=c)),l.appendChild(c),""!=s&&(p[s]=n)}}var x;h.settings.lockOptgroupOrder&&u.sort(((t,e)=>t.order-e.order)),a=document.createDocumentFragment(),E(u,(t=>{let e=t.fragment,i=t.optgroup;if(!e||!e.children.length)return;let n=h.optgroups[i];if(void 0!==n){let t=document.createDocumentFragment(),i=h.render("optgroup_header",n);rt(t,i),rt(t,e);let o=h.render("optgroup",{group:n,options:t});rt(a,o)}else rt(a,e)})),y.innerHTML="",rt(y,a),h.settings.highlight&&(x=y.querySelectorAll("span.highlight"),Array.prototype.forEach.call(x,(function(t){var e=t.parentNode;e.replaceChild(t.firstChild,t),e.normalize()})),m.query.length&&m.tokens.length&&E(m.tokens,(t=>{((t,e)=>{if(null===e)return;if("string"==typeof e){if(!e.length)return;e=new RegExp(e,"i")}const i=t=>3===t.nodeType?(t=>{var i=t.data.match(e);if(i&&t.data.length>0){var n=document.createElement("span");n.className="highlight";var o=t.splitText(i.index);o.splitText(i[0].length);var s=o.cloneNode(!0);return n.appendChild(s),G(o,n),1}return 0})(t):((t=>{1!==t.nodeType||!t.childNodes||/(script|style)/i.test(t.tagName)||"highlight"===t.className&&"SPAN"===t.tagName||Array.from(t.childNodes).forEach((t=>{i(t)}))})(t),0);i(t)})(y,t.regex)})));var O=t=>{let e=h.render(t,{input:g});return e&&(b=!0,y.insertBefore(e,y.firstChild)),e};if(h.loading?O("loading"):h.settings.shouldLoad.call(h,g)?0===m.items.length&&O("no_results"):O("not_loading"),(l=h.canCreate(g))&&(c=O("option_create")),h.hasOptions=m.items.length>0||l,b){if(m.items.length>0){if(v||"single"!==h.settings.mode||null==h.items[0]||(v=h.getOption(h.items[0])),!y.contains(v)){let t=0;c&&!h.settings.addPrecedence&&(t=1),v=h.selectable()[t]}}else c&&(v=c);t&&!h.isOpen&&(h.open(),h.scrollToOption(v,"auto")),h.setActiveOption(v)}else h.clearActiveOption(),t&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const i=this;if(Array.isArray(t))return i.addOptions(t,e),!1;const n=U(t[i.settings.valueField]);return null!==n&&!i.options.hasOwnProperty(n)&&(t.$order=t.$order||++i.order,t.$id=i.inputId+"-opt-"+t.$order,i.options[n]=t,i.lastQuery=null,e&&(i.userOptions[n]=e,i.trigger("option_add",n,t)),n)}addOptions(t,e=!1){E(t,(t=>{this.addOption(t,e)}))}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=U(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var i;e[this.settings.optgroupValueField]=t,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const i=this;var n,o;const s=U(t),r=U(e[i.settings.valueField]);if(null===s)return;const a=i.options[s];if(null==a)return;if("string"!=typeof r)throw new Error("Value must be set in option data");const l=i.getOption(s),d=i.getItem(s);if(e.$order=e.$order||a.$order,delete i.options[s],i.uncacheValue(r),i.options[r]=e,l){if(i.dropdown_content.contains(l)){const t=i._render("option",e);G(l,t),i.activeOption===l&&i.setActiveOption(t)}l.remove()}d&&(-1!==(o=i.items.indexOf(s))&&i.items.splice(o,1,r),n=i._render("item",e),d.classList.contains("active")&&D(n,"active"),G(d,n)),i.lastQuery=null}removeOption(t,e){const i=this;t=W(t),i.uncacheValue(t),delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};E(this.options,((t,n)=>{e(t,n)&&(i[n]=t)})),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const i=U(t);if(null===i)return null;const n=this.options[i];if(null!=n){if(n.$div)return n.$div;if(e)return this._render("option",n)}return null}getAdjacent(t,e,i="option"){var n;if(!t)return null;n="item"==i?this.controlChildren():this.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<n.length;i++)if(n[i]==t)return e>0?n[i+1]:n[i-1];return null}getItem(t){if("object"==typeof t)return t;var e=U(t);return null!==e?this.control.querySelector(`[data-value="${st(e)}"]`):null}addItems(t,e){var i=this,n=Array.isArray(t)?t:[t];const o=(n=n.filter((t=>-1===i.items.indexOf(t))))[n.length-1];n.forEach((t=>{i.isPending=t!==o,i.addItem(t,e)}))}addItem(t,e){tt(this,e?[]:["change","dropdown_close"],(()=>{var i,n;const o=this,s=o.settings.mode,r=U(t);if((!r||-1===o.items.indexOf(r)||("single"===s&&o.close(),"single"!==s&&o.settings.duplicates))&&null!==r&&o.options.hasOwnProperty(r)&&("single"===s&&o.clear(e),"multi"!==s||!o.isFull())){if(i=o._render("item",o.options[r]),o.control.contains(i)&&(i=i.cloneNode(!0)),n=o.isFull(),o.items.splice(o.caretPos,0,r),o.insertAtCaret(i),o.isSetup){if(!o.isPending&&o.settings.hideSelected){let t=o.getOption(r),e=o.getAdjacent(t,1);e&&o.setActiveOption(e)}o.isPending||o.settings.closeAfterSelect||o.refreshOptions(o.isFocused&&"single"!==s),0!=o.settings.closeAfterSelect&&o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",r,i),o.isPending||o.updateOriginalInput({silent:e})}(!o.isPending||!n&&o.isFull())&&(o.inputState(),o.refreshState())}}))}removeItem(t=null,e){const i=this;if(!(t=i.getItem(t)))return;var n,o;const s=t.dataset.value;n=K(t),t.remove(),t.classList.contains("active")&&(o=i.activeItems.indexOf(t),i.activeItems.splice(o,1),R(t,"active")),i.items.splice(n,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(s)&&i.removeOption(s,e),n<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",s,t)}createItem(t=null,e=(()=>{})){3===arguments.length&&(e=arguments[2]),"function"!=typeof e&&(e=()=>{});var i,n=this,o=n.caretPos;if(t=t||n.inputValue(),!n.canCreate(t))return e(),!1;n.lock();var s=!1,r=t=>{if(n.unlock(),!t||"object"!=typeof t)return e();var i=U(t[n.settings.valueField]);if("string"!=typeof i)return e();n.setTextboxValue(),n.addOption(t,!0),n.setCaret(o),n.addItem(i),e(t),s=!0};return i="function"==typeof n.settings.create?n.settings.create.call(this,t,r):{[n.settings.labelField]:t,[n.settings.valueField]:t},s||r(i),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),i=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const n=t.wrapper.classList;var o;n.toggle("focus",t.isFocused),n.toggle("disabled",t.isDisabled),n.toggle("readonly",t.isReadOnly),n.toggle("required",t.isRequired),n.toggle("invalid",!t.isValid),n.toggle("locked",i),n.toggle("full",e),n.toggle("input-active",t.isFocused&&!t.isInputHidden),n.toggle("dropdown-active",t.isOpen),n.toggle("has-options",(o=t.options,0===Object.keys(o).length)),n.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var i,n;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){const s=[],r=e.input.querySelectorAll("option:checked").length;function a(t,i,n){return t||(t=N('<option value="'+X(i)+'">'+X(n)+"</option>")),t!=o&&e.input.append(t),s.push(t),(t!=o||r>0)&&(t.selected=!0),t}e.input.querySelectorAll("option:checked").forEach((t=>{t.selected=!1})),0==e.items.length&&"single"==e.settings.mode?a(o,"",""):e.items.forEach((t=>{i=e.options[t],n=i[e.settings.labelField]||"",s.includes(i.$option)?a(e.input.querySelector(`option[value="${st(t)}"]:not(:checked)`),t,n):i.$option=a(i.$option,t,n)}))}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.isOpen=!0,Q(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),V(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),V(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,i=e.isOpen;t&&(e.setTextboxValue(),"single"===e.settings.mode&&e.items.length&&e.inputState()),e.isOpen=!1,Q(e.focus_node,{"aria-expanded":"false"}),V(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var t=this.control,e=t.getBoundingClientRect(),i=t.offsetHeight+e.top+window.scrollY,n=e.left+window.scrollX;V(this.dropdown,{width:e.width+"px",top:i+"px",left:n+"px"})}}clear(t){var e=this;if(e.items.length){var i=e.controlChildren();E(i,(t=>{e.removeItem(t,!0)})),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,i=e.caretPos,n=e.control;n.insertBefore(t,n.children[i]||null),e.setCaret(i+1)}deleteSelection(t){var e,i,n,o,s,r=this;e=t&&8===t.keyCode?-1:1,i={start:(s=r.control_input).selectionStart||0,length:(s.selectionEnd||0)-(s.selectionStart||0)};const a=[];if(r.activeItems.length)o=B(r.activeItems,e),n=K(o),e>0&&n++,E(r.activeItems,(t=>a.push(t)));else if((r.isFocused||"single"===r.settings.mode)&&r.items.length){const t=r.controlChildren();let n;e<0&&0===i.start&&0===i.length?n=t[r.caretPos-1]:e>0&&i.start===r.inputValue().length&&(n=t[r.caretPos]),void 0!==n&&a.push(n)}if(!r.shouldDelete(a,t))return!1;for(et(t,!0),void 0!==n&&r.setCaret(n);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(t,e){const i=t.map((t=>t.dataset.value));return!(!i.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(i,e))}advanceSelection(t,e){var i,n,o=this;o.rtl&&(t*=-1),o.inputValue().length||(nt(Z,e)||nt("shiftKey",e)?(n=(i=o.getLastActive(t))?i.classList.contains("active")?o.getAdjacent(i,t,"item"):i:t>0?o.control_input.nextElementSibling:o.control_input.previousElementSibling)&&(n.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(n)):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");return i?B(i,t):void 0}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,R(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var i,n;const o=this;if("function"!=typeof this.settings.render[t])return null;if(!(n=o.settings.render[t].call(this,e,X)))return null;if(n=N(n),"option"===t||"option_create"===t?e[o.settings.disabledField]?Q(n,{"aria-disabled":"true"}):Q(n,{"data-selectable":""}):"optgroup"===t&&(i=e.group[o.settings.optgroupValueField],Q(n,{"data-group":i}),e.group[o.settings.disabledField]&&Q(n,{"data-disabled":""})),"option"===t||"item"===t){const i=W(e[o.settings.valueField]);Q(n,{"data-value":i}),"item"===t?(D(n,o.settings.itemClass),Q(n,{"data-ts-item":""})):(D(n,o.settings.optionClass),Q(n,{role:"option",id:e.$id}),e.$div=n,o.options[i]=e)}return n}_render(t,e){const i=this.render(t,e);if(null==i)throw"HTMLElement expected";return i}clearCache(){E(this.options,(t=>{t.$div&&(t.$div.remove(),delete t.$div)}))}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,i){var n=this,o=n[e];n[e]=function(){var e,s;return"after"===t&&(e=o.apply(n,arguments)),s=i.apply(n,arguments),"instead"===t?s:("before"===t&&(e=o.apply(n,arguments)),e)}}}var ct=i(379),pt=i.n(ct),ut=i(795),ht=i.n(ut),gt=i(569),ft=i.n(gt),mt=i(565),vt=i.n(mt),bt=i(216),yt=i.n(bt),wt=i(589),xt=i.n(wt),Ot=i(414),It={};It.styleTagTransform=xt(),It.setAttributes=vt(),It.insert=ft().bind(null,"head"),It.domAPI=ht(),It.insertStyleElement=yt(),pt()(Ot.Z,It),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;const _t=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},St={},Ct={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in Ct){let e=Ct[t]||"";for(let i=0;i<e.length;i++)St[e.substring(i,i+1)]=t}new RegExp(Object.keys(St).join("|")+"|[̀-ͯ·ʾʼ]","gu");dt.define("checkbox_options",(function(t){var e=this,i=e.onOptionSelect;e.settings.hideSelected=!1;const n=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var o=function(t,e){e?(t.checked=!0,n.uncheckedClassNames&&t.classList.remove(...n.uncheckedClassNames),n.checkedClassNames&&t.classList.add(...n.checkedClassNames)):(t.checked=!1,n.checkedClassNames&&t.classList.remove(...n.checkedClassNames),n.uncheckedClassNames&&t.classList.add(...n.uncheckedClassNames))},s=function(t){setTimeout((()=>{var e=t.querySelector("input."+n.className);e instanceof HTMLInputElement&&o(e,t.classList.contains("selected"))}),1)};e.hook("after","setupTemplates",(()=>{var t=e.settings.render.option;e.settings.render.option=(i,s)=>{var r=(t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if("string"==typeof(i=t)&&i.indexOf("<")>-1){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}var i;return document.querySelector(t)})(t.call(e,i,s)),a=document.createElement("input");n.className&&a.classList.add(n.className),a.addEventListener("click",(function(t){_t(t)})),a.type="checkbox";const l=null==(d=i[e.settings.valueField])?null:(t=>"boolean"==typeof t?t?"1":"0":t+"")(d);var d;return o(a,!!(l&&e.items.indexOf(l)>-1)),r.prepend(a),r}})),e.on("item_remove",(t=>{var i=e.getOption(t);i&&(i.classList.remove("selected"),s(i))})),e.on("item_add",(t=>{var i=e.getOption(t);i&&s(i)})),e.hook("instead","onOptionSelect",((t,n)=>{if(n.classList.contains("selected"))return n.classList.remove("selected"),e.removeItem(n.dataset.value),e.refreshOptions(),void _t(t,!0);i.call(e,t,n),s(n)}))}));var kt=dt}();var o=n.Z;export{o as default};